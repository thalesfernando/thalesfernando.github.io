---
---

@import
	"responsive-parameters"
;

$gutter: $leading;

$grid_variety: length($col);
$bp_amount: length($breakpoints);

@mixin col-loop {
	@for $i1 from 0 through nth($col, 1) {
		@for $i2 from 0 through nth($col, 2) {
			@for $i3 from 0 through nth($col, 3) {
				@for $i4 from 0 through nth($col, 4) {
					$iterations: $i1, $i2, $i3, $i4;
					.col_#{$i1}_#{$i2}_#{$i3}_#{$i4} {
						$width: percentage(nth($iterations, $a) / nth($col, $a));
						@if $width == 0% {
							display: none;
						}
						@else {
							width: calc(#{$width} - #{$gutter});
							margin-left: $gutter / 2;
							margin-right: $gutter / 2;
						}
					}
				}
			}
		}
	}
}

$a: 1;
@media screen and (max-width: nth($breakpoints, 1) - 1px) {
	@include col-loop;
}

$a: 2;
@media screen and (min-width: nth($breakpoints, ($a - 1))) and (max-width: nth($breakpoints, $a) - 1px) {
	@include col-loop;
}

$a: 3;
@media screen and (min-width: nth($breakpoints, ($a - 1))) and (max-width: nth($breakpoints, $a) - 1px) {
	@include col-loop;
}

$a: $grid_variety;
@media screen and (min-width: nth($breakpoints, ($grid_variety - 1))) {
	@include col-loop;
}